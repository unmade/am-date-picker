{"version":3,"sources":["am-date-picker.js","am-date-picker.tmpl.js"],"names":["angular","moment","DialogController","$mdDialog","$timeout","amDatePickerConfig","init","options","i","length","hasOwnProperty","isDefined","dialog","Date","locale","monthYear","days","daysOfWeek","weekdaysMin","years","minYear","maxYear","minDate","Math","max","year","maxDate","min","y","push","generateCalendar","cancel","hide","toDate","displayYearSelection","yearSelection","yearSelector","element","document","querySelector","activeYear","activeYearHeight","getElementsByTagName","offsetHeight","scrollTop","offsetTop","clientHeight","hideYearSelection","nextMonth","isBefore","add","onNextMonth","change","next","delay","onPrevMonth","previousMonth","isAfter","subtract","today","ngModelMoment","select","_day","disabled","copy","selectYear","_year","selectableMoment","emptyFirstDays","previousDay","clone","date","firstDayOfMonth","lastDayOfMonth","endOf","maxDays","day","j","selected","isSame","isSameOrAfter","isTodayDisabled","this","amDatePickerDirective","restrict","templateUrl","bindToController","allowClear","cancelButton","inputDateFormat","inputLabel","popupDateFormat","showInputIcon","todayButton","controller","AmDatePickerController","controllerAs","scope","replace","$scope","amDatePicker","formatViewValue","$watch","newValue","oldValue","currentDate","value","format","undefined","clearDate","openPicker","ev","show","clickOutsideToClose","parent","body","targetEvent","locals","backButtonText","then","selectedDate","amDatePickerConfigProvider","config","calendarIcon","clearIcon","nextIcon","prevIcon","setIcons","icons","key","setOptions","props","forEach","prop","name","charAt","toUpperCase","substr","$get","$q","AmDatePickerService","$inject","createProperty","obj","Object","defineProperty","__proto__","get","properties","property","module","directive","provider","window","run","$templateCache","put"],"mappings":"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","file":"am-date-picker.min.js","sourcesContent":["(function(angular, moment){\r\n    'use strict';\r\n\nangular\r\n    .module('am.date-picker', ['ngMaterial', 'ngAnimate'])\r\n    .directive('amDatePicker', amDatePickerDirective)\r\n    .provider('amDatePickerConfig', amDatePickerConfigProvider)\r\n    .controller('amDatePickerDialog', DialogController);\r\n\nDialogController.$inject = [\"$mdDialog\", \"$timeout\", \"amDatePickerConfig\"];\r\nfunction DialogController($mdDialog, $timeout, amDatePickerConfig) {\r\n    var dialog = this;\r\n    \r\n    dialog.cancel = cancel;\r\n    dialog.hide = hide;\r\n    dialog.displayYearSelection = displayYearSelection;\r\n    dialog.hideYearSelection = hideYearSelection;\r\n    dialog.previousMonth = previousMonth;\r\n    dialog.nextMonth = nextMonth;\r\n    dialog.select = select;\r\n    dialog.selectYear = selectYear;\r\n    dialog.today = today;\r\n\r\n    dialog.isTodayDisabled = false;\r\n    dialog.yearSelection = false;\r\n    dialog.change = true;\r\n\r\n    var delay = 110;\r\n\r\n    init();\r\n\r\n\r\n    function init() {\r\n        var options = ['backButtonText', 'cancelButton', 'inputLabel', 'maxYear', 'minYear', 'locale',\r\n            'popupDateFormat', 'todayButton', 'prevIcon', 'nextIcon'];\r\n\r\n        for (var i = 0; i < options.length; i++) {\r\n            if (amDatePickerConfig.hasOwnProperty(options[i])) {\r\n                if (!angular.isDefined(dialog[options[i]]))\r\n                    dialog[options[i]] = amDatePickerConfig[options[i]];\r\n            }\r\n        }\r\n\r\n        dialog.moment = moment(dialog.Date || new Date());\r\n        dialog.moment.locale(dialog.locale);\r\n        dialog.monthYear = moment(dialog.Date || new Date());\r\n    \r\n        dialog.days = [];\r\n        dialog.daysOfWeek = [\r\n            moment.weekdaysMin(1),\r\n            moment.weekdaysMin(2),\r\n            moment.weekdaysMin(3),\r\n            moment.weekdaysMin(4),\r\n            moment.weekdaysMin(5),\r\n            moment.weekdaysMin(6),\r\n            moment.weekdaysMin(0)\r\n        ];\r\n        dialog.years = [];\r\n\r\n        var minYear = (dialog.minYear || 1920),\r\n            maxYear = dialog.maxYear || 2020;\r\n\r\n\r\n        if (dialog.minDate) {\r\n            minYear = Math.max(minYear, moment(dialog.minDate).year());\r\n        }\r\n        if (dialog.maxDate) {\r\n            maxYear = Math.min(maxYear, moment(dialog.maxDate).year());\r\n        }\r\n\r\n        for (var y = minYear; y <= maxYear; y++) {\r\n            dialog.years.push(y);\r\n        }\r\n\r\n        generateCalendar(!!dialog.Date);\r\n    }\r\n\r\n    function cancel() {\r\n        $mdDialog.cancel();\r\n    }\r\n\r\n    function hide() {\r\n        $mdDialog.hide(dialog.moment.toDate());\r\n    }\r\n\r\n    function displayYearSelection() {\r\n        dialog.yearSelection = true;\r\n        $timeout(function () {\r\n            var yearSelector = angular.element(document.querySelector('.am-date-picker__year-selector')),\r\n                activeYear = angular.element(document.querySelector('.am-date-picker__year--is-active')),\r\n                activeYearHeight = activeYear[0].getElementsByTagName('p')[0].offsetHeight;\r\n\r\n            yearSelector[0].scrollTop = activeYear[0].offsetTop - yearSelector[0].offsetTop -\r\n            yearSelector[0].clientHeight / 2 + activeYearHeight / 2;\r\n        });\r\n    }\r\n\r\n    function hideYearSelection() {\r\n        dialog.yearSelection = false;\r\n    }\r\n\r\n    function nextMonth() {\r\n        if (!dialog.maxDate || dialog.monthYear.isBefore(dialog.maxDate, \"month\")) {\r\n            dialog.monthYear.add(1, 'month');\r\n            generateCalendar();\r\n            onNextMonth();\r\n        }\r\n    }\r\n\r\n\r\n    function onNextMonth() {\r\n        dialog.change = false;\r\n        dialog.next = true;\r\n        $timeout(function () {\r\n            dialog.change = true;\r\n        }, delay);\r\n    }\r\n\r\n    function onPrevMonth() {\r\n        dialog.next = false;\r\n        dialog.change = false;\r\n        $timeout(function () {\r\n            dialog.change = true;\r\n        }, delay);\r\n    }\r\n\r\n    function previousMonth() {\r\n        if (!dialog.minDate || dialog.monthYear.isAfter(dialog.minDate, \"month\")) {\r\n            dialog.monthYear.subtract(1, 'month');\r\n            generateCalendar();\r\n            onPrevMonth();\r\n        }\r\n    }\r\n\r\n    function today() {\r\n        var today = new Date();\r\n        dialog.moment = moment(today);\r\n        dialog.ngModelMoment = moment(today);\r\n        if (dialog.yearSelection) { dialog.hideYearSelection(); }\r\n\r\n        generateCalendar();\r\n    }\r\n\r\n    function select(_day) {\r\n        if (!_day.disabled) {\r\n            dialog.moment = _day;\r\n            dialog.monthYear = angular.copy(_day);\r\n\r\n            generateCalendar();\r\n        }\r\n    }\r\n\r\n    function selectYear(_year) {\r\n        dialog.hideYearSelection();\r\n        dialog.monthYear.year(_year);\r\n\r\n        generateCalendar();\r\n    }\r\n\r\n    function generateCalendar(selectableMoment) {\r\n        dialog.days = [];\r\n        dialog.emptyFirstDays = [];\r\n        var previousDay = dialog.monthYear.clone().date(0),\r\n            firstDayOfMonth = angular.copy(dialog.monthYear).date(1),\r\n            lastDayOfMonth = angular.copy(firstDayOfMonth).endOf('month'),\r\n            maxDays = angular.copy(lastDayOfMonth).date();\r\n\r\n        for (var i = firstDayOfMonth.day() === 0 ? 6 : firstDayOfMonth.day() - 1; i > 0; i--) {\r\n            dialog.emptyFirstDays.push({});\r\n        }\r\n        for (var j = 0; j < maxDays; j++) {\r\n            var date = previousDay.add(1, 'days').clone();\r\n            date.selected = selectableMoment !== false && date.isSame(dialog.moment, 'day');\r\n            date.today = date.isSame(moment(), 'day');\r\n            if (angular.isDefined(dialog.minDate) && date.isBefore(dialog.minDate, 'day')) {\r\n                date.disabled = true;\r\n            }\r\n            if (angular.isDefined(dialog.maxDate) && date.isSameOrAfter(dialog.maxDate, 'day')) {\r\n                date.disabled = true;\r\n            }\r\n            dialog.days.push(date);\r\n        }\r\n        dialog.isTodayDisabled = (angular.isDefined(dialog.minDate) &&\r\n            moment().toDate() < dialog.minDate ||\r\n            angular.isDefined(dialog.maxDate) &&\r\n            moment().toDate() > dialog.maxDate);\r\n    }\r\n}    \r\n\nfunction amDatePickerDirective() {\r\n    return {\r\n        restrict: 'AE',\r\n        templateUrl: 'am-date-picker.html',\r\n        bindToController:\r\n        {\r\n            Date: \"=ngModel\",\r\n            allowClear: '=?amAllowClear',\r\n            cancelButton: '@?amCancelButton',\r\n            inputDateFormat: '@?amInputDateFormat',\r\n            inputLabel: '@?amInputLabel',\r\n            maxDate: '=?amMaxDate',\r\n            minDate: '=?amMinDate',\r\n            maxYear: '=?amMaxYear',\r\n            minYear: '=?amMinYear',\r\n            popupDateFormat: '@?amPopupDateFormat',\r\n            showInputIcon: '=?amShowInputIcon',\r\n            todayButton: '@?amTodayButton'\r\n        },\r\n        controller: AmDatePickerController,\r\n        controllerAs: 'amDatePicker',\r\n        scope: {},\r\n        replace: true\r\n    };\r\n}\r\n\r\nAmDatePickerController.$inject = ['$scope', '$timeout', '$mdDialog', 'amDatePickerConfig'];\r\n\r\nfunction AmDatePickerController($scope, $timeout, $mdDialog, amDatePickerConfig) {\r\n    var amDatePicker = this;\r\n\r\n    amDatePicker.clearDate = clearDate;\r\n    amDatePicker.openPicker = openPicker;\r\n\r\n    amDatePicker.isTodayDisabled = false;\r\n    amDatePicker.yearSelection = false;\r\n    amDatePicker.change = true;\r\n\r\n    init();\r\n\r\n    function init() {\r\n        var options = ['backButtonText', 'cancelButton', 'inputLabel', 'maxYear', 'minYear',\r\n            'popupDateFormat', 'todayButton', 'prevIcon', 'nextIcon', 'calendarIcon', 'allowClear',\r\n            'clearIcon', 'showInputIcon', 'inputDateFormat', 'inputLabel', 'locale', 'minDate', 'maxDate'];\r\n\r\n        for (var i = 0; i < options.length; i++) {\r\n            if (amDatePickerConfig.hasOwnProperty(options[i])) {\r\n                if (!angular.isDefined(amDatePicker[options[i]]))\r\n                    amDatePicker[options[i]] = amDatePickerConfig[options[i]];\r\n            }\r\n        }\r\n        formatViewValue();\r\n\r\n        $scope.$watch(function () { return amDatePicker.minDate; }, function (newValue, oldValue) {\r\n            if(newValue){\r\n                var minDate = moment(newValue),\r\n                    currentDate = moment(amDatePicker.Date);\r\n                if(currentDate.isBefore(minDate, 'day')){\r\n                    amDatePicker.Date = minDate.toDate();\r\n                    amDatePicker.value = minDate.format(amDatePicker.inputDateFormat);\r\n                }\r\n            }\r\n        });\r\n\r\n        $scope.$watch(function () { return amDatePicker.maxDate; }, function (newValue, oldValue) {\r\n            if(newValue){\r\n                var maxDate = moment(newValue),\r\n                    currentDate = moment(amDatePicker.Date);\r\n                if(currentDate.isAfter(maxDate, 'day')){\r\n                    amDatePicker.Date = maxDate.add(-1, 'day').toDate();\r\n                    amDatePicker.value = maxDate.format(amDatePicker.inputDateFormat);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function formatViewValue() {\r\n        amDatePicker.value = amDatePicker.Date ? moment(amDatePicker.Date).format(amDatePicker.inputDateFormat) : undefined;\r\n    }\r\n\r\n    function clearDate() {\r\n        amDatePicker.Date = undefined;\r\n        formatViewValue();\r\n    }\r\n\r\n    function openPicker(ev) {\r\n        $mdDialog.show({\r\n            clickOutsideToClose: true,\r\n            controller: DialogController,\r\n            controllerAs: 'dialog',\r\n            bindToController: true,\r\n            parent: angular.element(document.body),\r\n            targetEvent: ev,\r\n            templateUrl: 'am-date-picker_content.tmpl.html',\r\n            locals: {\r\n                Date: amDatePicker.Date,\r\n                minDate: amDatePicker.minDate,\r\n                maxDate: amDatePicker.maxDate,\r\n                todayButton: amDatePicker.todayButton,\r\n                cancelButton: amDatePicker.cancelButton,\r\n                backButtonText: amDatePicker.backButtonText\r\n            }\r\n        }).then(function (selectedDate) {\r\n            amDatePicker.Date = selectedDate;\r\n            formatViewValue();\r\n        });\r\n    }\r\n}\r\n\nfunction amDatePickerConfigProvider() {\r\n    var config = {};\r\n    config.allowClear = true;\r\n    config.backButtonText = \"Back\";\r\n    // config.cancelButtonText = \"Cancel\";\r\n    config.inputDateFormat = 'LL';\r\n    config.maxYear = 2020;\r\n    config.minYear = 1920;\r\n    config.locale = 'en';\r\n    config.popupDateFormat = 'ddd, MMM D';\r\n    config.showInputIcon = false;\r\n\r\n    /* Icons */\r\n    config.calendarIcon = '/dist/images/icons/ic_today_24px.svg';\r\n    config.clearIcon = '/dist/images/icons/ic_close_24px.svg';\r\n    config.nextIcon = '/dist/images/icons/ic_chevron_right_18px.svg';\r\n    config.prevIcon = '/dist/images/icons/ic_chevron_left_18px.svg';\r\n\r\n    this.setIcons = function (icons) {\r\n        for (var key in icons) {\r\n            config[key] = icons[key];\r\n        }\r\n    }\r\n\r\n    this.setOptions = function (options) {\r\n        for (var key in options) {\r\n            config[key] = options[key];\r\n        }\r\n    }\r\n\r\n    var props = ['allowClear', 'backButtonText', 'cancelButton', 'inputDateFormat', 'inputLabel', \r\n    'maxYear', 'maxDate', 'minDate', 'minYear', 'locale', 'popupDateFormat', 'showInputIcon', 'todayButton', 'calendarIcon',\r\n    'clearIcon', 'nextIcon', 'prevIcon'];\r\n    \r\n    props.forEach(function(prop) {\r\n        var name = prop.charAt(0).toUpperCase() + prop.substr(1);\r\n        this['set' + name] = function(value){\r\n            config[prop] = value;\r\n            return this;\r\n        };\r\n    }, this);\r\n\r\n    this.$get = function ($mdDialog, $q) {\r\n        return new AmDatePickerService(config, $mdDialog, $q);\r\n    };\r\n    this.$get.$inject = [\"$mdDialog\", \"$q\"];\r\n}\nfunction AmDatePickerService(config, $mdDialog, $q) {\r\n    var properties = ['allowClear', 'backButtonText', 'cancelButton', 'showInputIcon',\r\n        'inputLabel', 'maxDate', 'minDate', 'maxYear', 'minYear', 'locale',\r\n        'inputDateFormat', 'popupDateFormat', 'todayButton', 'calendarIcon',\r\n        'prevIcon', 'nextIcon', 'clearIcon'];\r\n\r\n    for (var property in properties) {\r\n        createProperty(this, properties[property], config[properties[property]]);\r\n    }\r\n\r\n    function createProperty(obj, name, value) {\r\n        Object.defineProperty(obj, name, {\r\n            __proto__: null,\r\n            get: function () {\r\n                return value;\r\n            }\r\n        });\r\n    }\r\n}\r\n\n})(window.angular, window.moment);","angular.module(\"am.date-picker\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"am-date-picker.html\",\"<div style=\\\"outline-style: none;\\\">\\r\\n    <!-- Date picker input -->\\r\\n    <div>\\r\\n        <md-input-container class=\\\"md-icon-float md-icon-right\\\">\\r\\n            <label>{{ amDatePicker.inputLabel }}</label>\\r\\n            <md-icon ng-show=\\\"amDatePicker.showInputIcon\\\"\\r\\n                     md-svg-icon=\\\"{{ amDatePicker.calendarIcon }}\\\"\\r\\n                     class=\\\"am-date-picker__calendar-icon\\\"></md-icon>\\r\\n            <input ng-model=\\\"amDatePicker.value\\\"\\r\\n                   ng-click=\\\"amDatePicker.openPicker($event)\\\"\\r\\n                   class=\\\"am-date-picker__input\\\"\\r\\n                   type=\\\"text\\\"\\r\\n                   readonly=\\\"readonly\\\">\\r\\n            <md-icon ng-show=\\\"amDatePicker.allowClear\\\"\\r\\n                     ng-click=\\\"amDatePicker.clearDate()\\\"\\r\\n                     md-svg-icon=\\\"{{ amDatePicker.clearIcon }}\\\"\\r\\n                     class=\\\"am-date-picker__clear-icon\\\"></md-icon>\\r\\n        </md-input-container>\\r\\n    </div>\\r\\n\\r\\n\\r\\n<script type=\\\"text/ng-template\\\" id=\\\"am-date-picker_content.tmpl.html\\\">\\r\\n    <md-dialog class=\\\"am-date-picker__container\\\" aria-label=\\\"Datepicker Content\\\" ng-cloak>\\r\\n    <div layout=\\\"column\\\">\\r\\n\\r\\n        <!-- Current date -->\\r\\n        <div layout-align=\\\"center\\\" class=\\\"am-date-picker__header-current-date\\\">\\r\\n            <p>{{ dialog.moment.format(\\'YYYY\\') }}</p>\\r\\n            <h2>{{ dialog.moment.format(dialog.popupDateFormat) }}</h2>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- Date picker: content -->\\r\\n    <div ng-hide=\\\"dialog.yearSelection\\\" class=\\\"am-date-picker__content am-date-picker__animate-year-selection\\\">\\r\\n        <div layout=\\\"row\\\" layout-align=\\\"space-between center\\\" class=\\\"am-date-picker__month-year\\\">\\r\\n            <md-button ng-click=\\\"dialog.previousMonth()\\\"\\r\\n                       class=\\\"md-icon-button\\\">\\r\\n                <md-icon aria-label=\\\"Prev\\\"\\r\\n                         class=\\\"am-date-picker__chevron\\\"\\r\\n                         md-svg-icon=\\\"{{ dialog.prevIcon }}\\\"></md-icon>\\r\\n\\r\\n            </md-button>\\r\\n\\r\\n            <md-button ng-click=\\\"dialog.displayYearSelection()\\\"\\r\\n                       class=\\\"am-date-picker__month-year\\\">\\r\\n                {{ dialog.monthYear.format(\\'MMMM YYYY\\') }}\\r\\n            </md-button>\\r\\n\\r\\n             <md-button ng-click=\\\"dialog.nextMonth()\\\"\\r\\n                        class=\\\"md-icon-button\\\">\\r\\n                <md-icon aria-label=\\\"Next\\\"\\r\\n                         class=\\\"am-date-picker__chevron\\\"\\r\\n                         md-svg-icon=\\\"{{ dialog.nextIcon }}\\\"></md-icon>\\r\\n            </md-button>\\r\\n        </div>\\r\\n\\r\\n        <!-- Calendar -->\\r\\n        <div class=\\\"am-date-picker__calendar am-date-picker__animate-month-change\\\"\\r\\n             ng-class=\\\"{\\'next\\': dialog.next,\\r\\n                        \\'prev\\': !dialog.next}\\\"\\r\\n             ng-if=\\\"dialog.change\\\">\\r\\n\\r\\n            <!-- Weekdays -->\\r\\n            <div style=\\\"padding-left: 12px; padding-right: 20px;\\\" layout layout-align=\\\"space-between\\\">\\r\\n                <span ng-repeat=\\\"day in dialog.daysOfWeek\\\"\\r\\n                      class=\\\"am-date-picker__weekdays\\\">\\r\\n                    {{ day }}\\r\\n                </span>\\r\\n            </div>\\r\\n\\r\\n            <!-- Days -->\\r\\n            <span ng-repeat=\\\"x in dialog.emptyFirstDays\\\"\\r\\n                  class=\\\"am-date-picker__days\\\">&nbsp;</span>\\r\\n\\r\\n            <div class=\\\"am-date-picker__days am-date-picker__day\\\"\\r\\n                 ng-class=\\\"{ \\'am-date-picker__day--is-selected\\': day.selected,\\r\\n                             \\'am-date-picker__day--is-today\\': day.today && !day.selected,\\r\\n                             \\'am-date-picker__day--is-disabled\\': day.disabled }\\\"\\r\\n                 ng-repeat=\\\"day in dialog.days\\\">\\r\\n                <a ng-click=\\\"dialog.select(day)\\\">{{ day ? day.format(\\'D\\') : \\'\\' }}</a>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Year selection -->\\r\\n    <div class=\\\"am-date-picker__year-selector am-date-picker__animate-year-selection\\\"\\r\\n         ng-show=\\\"dialog.yearSelection\\\">\\r\\n        <a class=\\\"am-date-picker__year\\\"\\r\\n           ng-repeat=\\\"year in dialog.years\\\"\\r\\n           ng-class=\\\"{ \\'am-date-picker__year--is-active\\':\\r\\n                        year == dialog.moment.format(\\'YYYY\\') }\\\"\\r\\n           ng-click=\\\"dialog.selectYear(year)\\\">\\r\\n            <p>{{ year }}</p>\\r\\n        </a>\\r\\n    </div>\\r\\n\\r\\n    <!--Actions-->\\r\\n    <md-dialog-actions layout=\\\"row\\\" class=\\\"md-actions am-date-picker__actions\\\">\\r\\n        <md-button ng-click=\\\"dialog.today()\\\"\\r\\n                   ng-disabled=\\\"dialog.isTodayDisabled\\\"\\r\\n                   ng-if=\\\"dialog.todayButton\\\">\\r\\n            {{ dialog.todayButton }}\\r\\n        </md-button>\\r\\n        <span flex></span>\\r\\n        <div ng-if=\\\"!dialog.yearSelection\\\">\\r\\n            <md-button ng-click=\\\"dialog.cancel()\\\"\\r\\n                       ng-if=\\\"dialog.cancelButton\\\">\\r\\n                {{ dialog.cancelButton }}\\r\\n            </md-button>\\r\\n            <md-button ng-click=\\\"dialog.hide()\\\">OK</md-button>\\r\\n        </div>\\r\\n        <md-button ng-click=\\\"dialog.hideYearSelection()\\\"\\r\\n                   ng-if=\\\"dialog.yearSelection\\\">{{ dialog.backButtonText }}</md-button>\\r\\n    </md-dialog-actions>\\r\\n    </md-dialog>\\r\\n</script>\\r\\n\\r\\n</div>\\r\\n\");}]);"],"sourceRoot":"/source/"}