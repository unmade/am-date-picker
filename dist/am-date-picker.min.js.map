{"version":3,"sources":["am-date-picker.module.js","am-date-picker.constant.js","am-date-picker.dialog.js","am-date-picker.directive.js","am-date-picker.provider.js","am-date-picker.tmpl.js"],"names":["angular","module","options","constant","DialogController","$timeout","$mdDialog","init","dateMoment","moment","dialog","date","undefined","isOutOfRange","minDate","maxDate","locale","isTodayDisabled","localeData","daysOfWeek","_weekdaysMin","years","minYear","maxYear","y","push","generateCalendar","autoExpandYear","displayYearSelection","cancel","yearSelection","yearSelector","element","document","querySelector","activeYear","activeYearHeight","offsetHeight","scrollTop","offsetTop","clientHeight","previousDay","clone","cloneMoment","firstDayOfMonth","day","maxDays","endOf","Date","disabled","days","emptyFirstDays","i","j","add","selected","isMoment","isSame","today","hide","toDate","hideYearSelection","isDate","isBefore","isAfter","nextMonth","onNextMonth","monthChanged","next","delay","onPrevMonth","previousMonth","subtract","select","_day","selectYear","_year","year","this","controller","$inject","amDatePicker","bindToController","AmDatePickerController","controllerAs","link","scope","attr","controllers","ngModelCtrl","amDatePickerCtrl","replace","require","restrict","allowClear","backButtonText","cancelButton","inputDateFormat","inputLabel","popupDateFormat","showInputIcon","todayButton","templateUrl","$scope","OPTIONS","amDatePickerConfig","clearDate","$setViewValue","render","clearErrorState","forEach","field","$setValidity","$render","length","hasOwnProperty","isDefined","openPicker","ev","show","locals","$viewValue","nextIcon","prevIcon","parent","body","targetEvent","then","selectedDate","$setTouched","modelMomentFormatted","format","updateErrorState","$watch","newValue","oldValue","directive","config","calendarIcon","clearIcon","setIcons","icons","key","setOptions","$get","amDatePickerService","properties","createProperty","obj","name","value","Object","defineProperty","__proto__","get","property","provider","run","$templateCache","put"],"mappings":"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","file":"am-date-picker.min.js","sourcesContent":["(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('am.date-picker', ['ngMaterial', 'ngAnimate']);\r\n        \r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    var options = ['allowClear', 'backButtonText', 'cancelButton', 'inputLabel',\r\n                   'maxDate', 'minDate', 'maxYear', 'minYear', 'locale',\r\n                   'inputDateFormat', 'popupDateFormat', 'showInputIcon', 'todayButton',\r\n                   'calendarIcon', 'prevIcon', 'nextIcon', 'clearIcon'];\r\n\r\n    angular\r\n        .module('am.date-picker')\r\n        .constant('OPTIONS', options);\r\n\r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('am.date-picker')\r\n        .controller('amDatePickerDialogCtrl', DialogController);\r\n\r\n    DialogController.$inject = ['$timeout', '$mdDialog'];\r\n\r\n    function DialogController($timeout, $mdDialog) {\r\n        var dialog = this,\r\n            delay = 110;\r\n\r\n        dialog.cancel = cancel;\r\n        dialog.displayYearSelection = displayYearSelection;\r\n        dialog.hide = hide;\r\n        dialog.hideYearSelection = hideYearSelection;\r\n        dialog.previousMonth = previousMonth;\r\n        dialog.nextMonth = nextMonth;\r\n        dialog.select = select;\r\n        dialog.selectYear = selectYear;\r\n        dialog.today = today;\r\n\r\n        dialog.monthChanged = true;\r\n        dialog.isTodayDisabled = false;\r\n        dialog.yearSelection = false;\r\n\r\n        init();\r\n\r\n        function init() {\r\n            var dateMoment = moment(dialog.date || undefined);\r\n\r\n            dialog.dateMoment = (isOutOfRange(dateMoment)) ? moment(dialog.minDate || dialog.maxDate) : dateMoment;\r\n            dialog.dateMoment.locale(dialog.locale);\r\n            dialog.isTodayDisabled = isOutOfRange(moment());\r\n\r\n            var localeData = moment.localeData(dialog.locale);\r\n            dialog.daysOfWeek = [\r\n                localeData._weekdaysMin[1],\r\n                localeData._weekdaysMin[2],\r\n                localeData._weekdaysMin[3],\r\n                localeData._weekdaysMin[4],\r\n                localeData._weekdaysMin[5],\r\n                localeData._weekdaysMin[6],\r\n                localeData._weekdaysMin[0]\r\n            ];\r\n\r\n            dialog.years = [];\r\n            var minYear = dialog.minYear || 1920,\r\n                maxYear = dialog.maxYear || 2020;\r\n\r\n            for (var y = minYear; y <= maxYear; y++) {\r\n                dialog.years.push(y);\r\n            }\r\n\r\n            generateCalendar();\r\n\t\t\t\r\n\t\t\tif(dialog.autoExpandYear){\r\n\r\n\t\t\t\t$timeout(function() {\r\n\t\t\t\t\tdisplayYearSelection();\r\n\t\t\t\t});\r\n            }\r\n        }\r\n\r\n        function cancel() {\r\n            $mdDialog.cancel();\r\n        }\r\n\r\n        function displayYearSelection() {\r\n            dialog.yearSelection = true;\r\n            $timeout(function() {\r\n                var yearSelector = angular.element(document.querySelector('.am-date-picker__year-selector')),\r\n                    activeYear = angular.element(document.querySelector('.am-date-picker__year--is-active')),\r\n                    activeYearHeight = activeYear[0].offsetHeight;\r\n\r\n                yearSelector[0].scrollTop = activeYear[0].offsetTop - yearSelector[0].offsetTop -\r\n                                            yearSelector[0].clientHeight/2 + activeYearHeight/2;\r\n            });\r\n        }\r\n\r\n        function generateCalendar() {\r\n            var previousDay = dialog.dateMoment.clone().date(0),\r\n                cloneMoment = dialog.dateMoment.clone(),\r\n                firstDayOfMonth = cloneMoment.date(1).day(),\r\n                maxDays = cloneMoment.endOf('month').date(),\r\n                today = new Date(),\r\n                date;\r\n\r\n            dialog.dateMoment.disabled = isOutOfRange(dialog.dateMoment);\r\n            dialog.days = [];\r\n            dialog.emptyFirstDays = [];\r\n\r\n            for (var i = firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1; i > 0; i--) {\r\n                dialog.emptyFirstDays.push({});\r\n            }\r\n            for (var j = 0; j < maxDays; j++) {\r\n                date = previousDay.add(1, 'days').clone();\r\n                date.disabled = isOutOfRange(date);\r\n                date.selected = moment.isMoment(dialog.dateMoment) &&\r\n                    date.isSame(dialog.dateMoment, 'day') && !date.disabled;\r\n                date.today = date.isSame(moment(), 'day');\r\n\r\n                dialog.days.push(date);\r\n            }\r\n        }\r\n\r\n        function hide() {\r\n            $mdDialog.hide(dialog.dateMoment.toDate());\r\n        }\r\n\r\n        function hideYearSelection() {\r\n            dialog.yearSelection = false;\r\n        }\r\n\r\n        function isOutOfRange(dateMoment) {\r\n            return angular.isDate(dialog.minDate) && dateMoment.isBefore(dialog.minDate, 'day') ||\r\n                   angular.isDate(dialog.maxDate) && dateMoment.isAfter(dialog.maxDate, 'day');\r\n        }\r\n\r\n        function nextMonth() {\r\n            dialog.dateMoment.add(1, 'month');\r\n            generateCalendar();\r\n            onNextMonth();\r\n        }\r\n\r\n        function onNextMonth() {\r\n            dialog.monthChanged = false;\r\n            dialog.next = true;\r\n            $timeout(function() {\r\n                dialog.monthChanged = true;\r\n            }, delay);\r\n        }\r\n\r\n        function onPrevMonth() {\r\n            dialog.next = false;\r\n            dialog.monthChanged = false;\r\n            $timeout(function() {\r\n                dialog.monthChanged = true;\r\n            }, delay);\r\n        }\r\n\r\n        function previousMonth() {\r\n            dialog.dateMoment.subtract(1, 'month');\r\n            generateCalendar();\r\n            onPrevMonth();\r\n        }\r\n\r\n        function today() {\r\n            if (dialog.yearSelection) { dialog.hideYearSelection(); }\r\n            dialog.select((dialog.locale) ? moment().locale(dialog.locale) : moment());\r\n        }\r\n\r\n        function select(_day) {\r\n            if (_day.disabled) return;\r\n            dialog.dateMoment = _day;\r\n            generateCalendar();\r\n        }\r\n\r\n        function selectYear(_year) {\r\n            dialog.hideYearSelection();\r\n            select(dialog.dateMoment.year(_year));\r\n            generateCalendar();\r\n        }\r\n    }\r\n\r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('am.date-picker')\r\n        .directive('amDatePicker', amDatePicker)\r\n\r\n    function amDatePicker() {\r\n        return {\r\n            bindToController: true,\r\n            controller: AmDatePickerController,\r\n            controllerAs: 'amDatePicker',\r\n            link: function(scope, element, attr, controllers) {\r\n                var ngModelCtrl = controllers[0],\r\n                    amDatePickerCtrl = controllers[1];\r\n                amDatePickerCtrl.init(ngModelCtrl);\r\n            },\r\n            replace: true,\r\n            require: ['ngModel', 'amDatePicker'],\r\n            restrict: 'AE',\r\n            scope:\r\n            {\r\n                allowClear: '=?amAllowClear',\r\n                backButtonText: '@?amBackButtonText',\r\n                cancelButton: '@?amCancelButton',\r\n                inputDateFormat: '@?amInputDateFormat',\r\n                inputLabel: '@?amInputLabel',\r\n                locale: '@?amLocale',\r\n                maxDate: '=?amMaxDate',\r\n                minDate: '=?amMinDate',\r\n                maxYear: '=?amMaxYear',\r\n                minYear: '=?amMinYear',\r\n                popupDateFormat: '@?amPopupDateFormat',\r\n                showInputIcon: '=?amShowInputIcon',\r\n                todayButton: '@?amTodayButton',\r\n                autoExpandYear: '@?amAutoExpandYear'\r\n            },\r\n            templateUrl: 'am-date-picker.html'\r\n        };\r\n    }\r\n\r\n    AmDatePickerController.$inject = ['$scope', '$timeout', '$mdDialog', 'OPTIONS', 'amDatePickerConfig'];\r\n\r\n    function AmDatePickerController($scope, $timeout, $mdDialog, OPTIONS, amDatePickerConfig) {\r\n        var amDatePicker = this;\r\n\r\n        amDatePicker.clearDate = clearDate;\r\n        amDatePicker.init = init;\r\n        amDatePicker.openPicker = openPicker;\r\n\r\n        amDatePicker.ngModelCtrl = null;\r\n\r\n        $scope.$watch(\"amDatePicker.minDate\", function(newValue, oldValue) {\r\n            var date = amDatePicker.ngModelCtrl.$viewValue,\r\n                dateMoment = moment(date);\r\n            if (date && newValue && dateMoment.isBefore(newValue, 'day')) {\r\n                amDatePicker.ngModelCtrl.$setViewValue(newValue);\r\n                render();\r\n            }\r\n            else {\r\n                updateErrorState();\r\n            }\r\n        });\r\n\r\n        $scope.$watch(\"amDatePicker.maxDate\", function(newValue, oldValue) {\r\n            var date = amDatePicker.ngModelCtrl.$viewValue,\r\n                dateMoment = moment(date);\r\n            if (date && newValue && dateMoment.isAfter(newValue, 'day')) {\r\n                amDatePicker.ngModelCtrl.$setViewValue(newValue);\r\n                render();\r\n            }\r\n            else {\r\n                updateErrorState();\r\n            }\r\n        });\r\n\r\n        function clearDate() {\r\n            amDatePicker.ngModelCtrl.$setViewValue(undefined);\r\n            render();\r\n        }\r\n\r\n        function clearErrorState() {\r\n            ['minDate', 'maxDate', 'valid'].forEach(function(field) {\r\n                amDatePicker.ngModelCtrl.$setValidity(field, true);\r\n            }, amDatePicker);\r\n        }\r\n\r\n        function init(ngModelCtrl) {\r\n            amDatePicker.ngModelCtrl = ngModelCtrl;\r\n\r\n            ngModelCtrl.$render = render;\r\n\r\n            for (var i = 0; i < OPTIONS.length; i++) {\r\n                if (amDatePickerConfig.hasOwnProperty(OPTIONS[i]) &&\r\n                        !angular.isDefined(amDatePicker[OPTIONS[i]])) {\r\n                    amDatePicker[OPTIONS[i]] = amDatePickerConfig[OPTIONS[i]];\r\n                }\r\n            }\r\n        }\r\n\r\n        function openPicker(ev) {\r\n            $mdDialog.show({\r\n                bindToController: true,\r\n                controller: 'amDatePickerDialogCtrl',\r\n                controllerAs: 'dialog',\r\n                locals: {\r\n                    backButtonText: amDatePicker.backButtonText,\r\n                    cancelButton: amDatePicker.cancelButton,\r\n                    date: amDatePicker.ngModelCtrl.$viewValue,\r\n                    maxDate: amDatePicker.maxDate,\r\n                    maxYear: amDatePicker.maxYear,\r\n                    minDate: amDatePicker.minDate,\r\n                    minYear: amDatePicker.minYear,\r\n                    nextIcon: amDatePicker.nextIcon,\r\n                    locale: amDatePicker.locale,\r\n                    popupDateFormat: amDatePicker.popupDateFormat,\r\n                    prevIcon: amDatePicker.prevIcon,\r\n                    todayButton: amDatePicker.todayButton,\r\n                    autoExpandYear: amDatePicker.autoExpandYear,\r\n                },\r\n                parent: angular.element(document.body),\r\n                targetEvent: ev,\r\n                templateUrl: 'am-date-picker_content.tmpl.html'\r\n            }).then(function(selectedDate) {\r\n                amDatePicker.ngModelCtrl.$setViewValue(selectedDate);\r\n                amDatePicker.ngModelCtrl.$setTouched();\r\n                render();\r\n            }, function() {\r\n                amDatePicker.ngModelCtrl.$setTouched();\r\n            });\r\n        }\r\n\r\n        function render() {\r\n            var date = amDatePicker.ngModelCtrl.$viewValue;;\r\n            amDatePicker.modelMomentFormatted = (angular.isDate(date)) ?\r\n                moment(date).locale(amDatePicker.locale).format(amDatePicker.inputDateFormat) :\r\n                    undefined;\r\n            updateErrorState();\r\n        }\r\n\r\n        function updateErrorState() {\r\n            var date = amDatePicker.ngModelCtrl.$viewValue,\r\n                dateMoment,\r\n                isAfter, isBefore;\r\n            clearErrorState();\r\n            if (angular.isDate(date)) {\r\n                dateMoment = moment(date);\r\n                isAfter = dateMoment.isAfter(amDatePicker.minDate, 'day') ||\r\n                          dateMoment.isSame(amDatePicker.minDate, 'day');\r\n                isBefore = dateMoment.isBefore(amDatePicker.maxDate, 'day') ||\r\n                           dateMoment.isSame(amDatePicker.maxDate, 'day');\r\n                amDatePicker.ngModelCtrl.$setValidity('minDate', !moment.isDate(amDatePicker.minDate) || isAfter);\r\n                amDatePicker.ngModelCtrl.$setValidity('maxDate', !moment.isDate(amDatePicker.maxDate) || isBefore);\r\n            }\r\n            else {\r\n                amDatePicker.ngModelCtrl.$setValidity('valid', date == null);\r\n            }\r\n        }\r\n    }\r\n\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('am.date-picker')\r\n        .provider('amDatePickerConfig', amDatePickerConfig);\r\n\r\n    amDatePickerConfig.$inject = ['OPTIONS'];\r\n\r\n    function amDatePickerConfig(OPTIONS) {\r\n        var config = this;\r\n        config.allowClear = true;\r\n        config.backButtonText = \"Back\";\r\n        config.inputDateFormat = 'LL';\r\n        config.maxYear = 2020;\r\n        config.minYear = 1920;\r\n        config.locale = 'en';\r\n        config.popupDateFormat = 'ddd, MMM D';\r\n        config.showInputIcon = false;\r\n\r\n        /* Icons */\r\n        config.calendarIcon = 'images/icons/ic_today_24px.svg';\r\n        config.clearIcon = 'images/icons/ic_close_24px.svg';\r\n        config.nextIcon = 'images/icons/ic_chevron_right_18px.svg';\r\n        config.prevIcon = 'images/icons/ic_chevron_left_18px.svg';\r\n\r\n        config.setIcons = function(icons) {\r\n            for (var key in icons) {\r\n                config[key] = icons[key];\r\n            }\r\n        }\r\n\r\n        config.setOptions = function(options) {\r\n            for (var key in options) {\r\n                config[key] = options[key];\r\n            }\r\n         }\r\n\r\n        this.$get = function () {\r\n            return new amDatePickerService(OPTIONS, config);\r\n        };\r\n\r\n    }\r\n\r\n\r\n    function amDatePickerService(properties, config){\r\n        for(var property in properties){\r\n            createProperty(this, properties[property], config[properties[property]]);\r\n        }\r\n\r\n        function createProperty(obj, name, value){\r\n            Object.defineProperty(obj, name, {\r\n                __proto__: null,\r\n                get: function(){\r\n                    return value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n","angular.module(\"am.date-picker\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"am-date-picker.html\",\"<div style=\\\"outline-style: none;\\\">\\r\\n    <!-- Date picker input -->\\r\\n    <div>\\r\\n        <md-input-container ng-class=\\\"{\\'md-has-icon\\': amDatePicker.showInputIcon &&\\r\\n                                                      (amDatePicker.showInputIcon || amDatePicker.allowClear) }\\\">\\r\\n            <label>{{ amDatePicker.inputLabel }}</label>\\r\\n            <div class=\\\"am-date-picker__calendar-icon\\\" ng-if=\\\"amDatePicker.showInputIcon\\\">\\r\\n                <md-button class=\\\"md-icon-button\\\"\\r\\n                           ng-click=\\\"amDatePicker.openPicker($event)\\\"\\r\\n                           aria-label=\\\"Clear\\\">\\r\\n                   <md-icon md-svg-icon=\\\"{{ amDatePicker.calendarIcon }}\\\" ng-if=\\\"amDatePicker.showInputIcon\\\"></md-icon>\\r\\n                </md-button>\\r\\n            </div>\\r\\n\\r\\n            <input ng-model=\\\"amDatePicker.modelMomentFormatted\\\"\\r\\n                   ng-click=\\\"amDatePicker.openPicker($event)\\\"\\r\\n                   class=\\\"am-date-picker__input\\\"\\r\\n                   type=\\\"text\\\"\\r\\n                   readonly=\\\"readonly\\\">\\r\\n            <div class=\\\"am-date-picker__clear-icon\\\" ng-if=\\\"amDatePicker.allowClear\\\">\\r\\n                <md-button class=\\\"md-icon-button\\\"\\r\\n                           ng-click=\\\"amDatePicker.clearDate()\\\"\\r\\n                           aria-label=\\\"Clear\\\">\\r\\n                    <md-icon md-svg-icon=\\\"{{ amDatePicker.clearIcon }}\\\"></md-icon>\\r\\n                </md-button>\\r\\n            </div>\\r\\n        </md-input-container>\\r\\n    </div>\\r\\n\\r\\n\\r\\n<script type=\\\"text/ng-template\\\" id=\\\"am-date-picker_content.tmpl.html\\\">\\r\\n    <md-dialog class=\\\"am-date-picker__container\\\" aria-label=\\\"Datepicker Content\\\" ng-cloak>\\r\\n    <div layout=\\\"column\\\">\\r\\n\\r\\n        <!-- Current date -->\\r\\n        <md-toolbar class=\\\"am-date-picker__header-current-date\\\">\\r\\n            <div layout=\\\"column\\\" layout-align=\\\"center start\\\">\\r\\n                <p class=\\\"md-subhead\\\">{{ dialog.dateMoment.format(\\'YYYY\\') }}</p>\\r\\n                <h2 class=\\\"md-title\\\">{{ dialog.dateMoment.format(dialog.popupDateFormat) }}</h2>\\r\\n            </div>\\r\\n        </md-toolbar>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- Date picker: content -->\\r\\n    <div ng-hide=\\\"dialog.yearSelection\\\" class=\\\"am-date-picker__content am-date-picker__animate-year-selection\\\">\\r\\n        <div layout=\\\"row\\\" layout-align=\\\"space-between center\\\" class=\\\"am-date-picker__month-year\\\">\\r\\n            <md-button ng-click=\\\"dialog.previousMonth()\\\"\\r\\n                       class=\\\"md-icon-button\\\"\\r\\n                       aria-label=\\\"Prev Month Button\\\">\\r\\n                <md-icon aria-label=\\\"Prev\\\"\\r\\n                         class=\\\"am-date-picker__chevron\\\"\\r\\n                         md-svg-icon=\\\"{{ dialog.prevIcon }}\\\"></md-icon>\\r\\n\\r\\n            </md-button>\\r\\n\\r\\n            <md-button ng-click=\\\"dialog.displayYearSelection()\\\"\\r\\n                       class=\\\"md-primary am-date-picker__month-year\\\">\\r\\n                {{ dialog.dateMoment.format(\\'MMMM YYYY\\') }}\\r\\n            </md-button>\\r\\n\\r\\n             <md-button ng-click=\\\"dialog.nextMonth()\\\"\\r\\n                        class=\\\"md-icon-button\\\"\\r\\n                        aria-label=\\\"Next Month Button\\\">\\r\\n                <md-icon aria-label=\\\"Next\\\"\\r\\n                         class=\\\"am-date-picker__chevron\\\"\\r\\n                         md-svg-icon=\\\"{{ dialog.nextIcon }}\\\"></md-icon>\\r\\n            </md-button>\\r\\n        </div>\\r\\n\\r\\n        <!-- Calendar -->\\r\\n        <div class=\\\"am-date-picker__calendar am-date-picker__animate-month-change\\\"\\r\\n             ng-class=\\\"{\\'next\\': dialog.next,\\r\\n                        \\'prev\\': !dialog.next}\\\"\\r\\n             ng-if=\\\"dialog.monthChanged\\\">\\r\\n\\r\\n            <!-- Weekdays -->\\r\\n            <div class=\\\"am-date-picker__weekdays\\\" layout layout-align=\\\"space-between\\\">\\r\\n                <span ng-repeat=\\\"day in dialog.daysOfWeek\\\">{{ day }}</span>\\r\\n            </div>\\r\\n\\r\\n            <!-- Days -->\\r\\n            <span class=\\\"am-date-picker__empty-days\\\"\\r\\n                  ng-repeat=\\\"x in dialog.emptyFirstDays\\\">&nbsp;</span>\\r\\n\\r\\n            <div class=\\\"am-date-picker__days\\\">\\r\\n                <md-button class=\\\"md-primary md-icon-button\\\"\\r\\n                    ng-class=\\\"{\\'am-date-picker__day--is-selected md-fab\\' : day.selected,\\r\\n                               \\'am-date-picker__day--is-today\\': day.today && !day.selected}\\\"\\r\\n                    ng-repeat=\\\"day in dialog.days\\\"\\r\\n                    ng-disabled=\\\"day.disabled\\\"\\r\\n                    ng-click=\\\"dialog.select(day)\\\">{{ day ? day.format(\\'D\\') : \\'\\' }}</md-button>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Year selection -->\\r\\n    <div class=\\\"am-date-picker__year-selector am-date-picker__animate-year-selection\\\"\\r\\n         ng-show=\\\"dialog.yearSelection\\\">\\r\\n        <div class=\\\"am-date-picker__year\\\"\\r\\n             ng-repeat=\\\"year in dialog.years\\\">\\r\\n            <md-button class=\\\"md-primary md-icon-button\\\"\\r\\n                       ng-class=\\\"{ \\'am-date-picker__year--is-active md-fab md-mini\\':\\r\\n                                        year == dialog.dateMoment.format(\\'YYYY\\') }\\\"\\r\\n                       ng-click=\\\"dialog.selectYear(year)\\\">\\r\\n                {{ year }}\\r\\n            </md-button>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <!--Actions-->\\r\\n    <md-dialog-actions layout=\\\"row\\\" class=\\\"am-date-picker__actions\\\">\\r\\n        <md-button ng-click=\\\"dialog.today()\\\"\\r\\n                   ng-disabled=\\\"dialog.isTodayDisabled\\\"\\r\\n                   ng-if=\\\"dialog.todayButton\\\"\\r\\n                   class=\\\"md-primary\\\">\\r\\n            {{ dialog.todayButton }}\\r\\n        </md-button>\\r\\n        <span flex></span>\\r\\n        <div ng-if=\\\"!dialog.yearSelection\\\">\\r\\n            <md-button ng-click=\\\"dialog.cancel()\\\"\\r\\n                       ng-if=\\\"dialog.cancelButton\\\"\\r\\n                       class=\\\"md-primary\\\">\\r\\n                {{ dialog.cancelButton }}\\r\\n            </md-button>\\r\\n\\r\\n            <md-button ng-click=\\\"dialog.hide()\\\"\\r\\n                       ng-disabled=\\\"dialog.dateMoment.disabled\\\"\\r\\n                       class=\\\"md-primary\\\">\\r\\n                OK\\r\\n            </md-button>\\r\\n        </div>\\r\\n\\r\\n        <md-button ng-click=\\\"dialog.hideYearSelection()\\\"\\r\\n                   ng-if=\\\"dialog.yearSelection\\\"\\r\\n                   class=\\\"md-primary\\\">\\r\\n               {{ dialog.backButtonText }}\\r\\n        </md-button>\\r\\n    </md-dialog-actions>\\r\\n    </md-dialog>\\r\\n</script>\\r\\n\\r\\n</div>\\r\\n\");}]);"],"sourceRoot":"/source/"}