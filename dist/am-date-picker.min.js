!function(e,t){"use strict";function a(a,n,o){function i(){for(var a=["backButtonText","cancelButton","inputLabel","maxYear","minYear","locale","popupDateFormat","todayButton","prevIcon","nextIcon"],n=0;n<a.length;n++)o.hasOwnProperty(a[n])&&(e.isDefined(x[a[n]])||(x[a[n]]=o[a[n]]));x.moment=t(x.Date||new Date),x.moment.locale(x.locale),x.monthYear=t(x.Date||new Date),x.days=[],x.daysOfWeek=[t.weekdaysMin(1),t.weekdaysMin(2),t.weekdaysMin(3),t.weekdaysMin(4),t.weekdaysMin(5),t.weekdaysMin(6),t.weekdaysMin(0)],x.years=[];var i=x.minYear||1920,r=x.maxYear||2020;x.minDate&&(i=Math.max(i,t(x.minDate).year())),x.maxDate&&(r=Math.min(r,t(x.maxDate).year()));for(var c=i;r>=c;c++)x.years.push(c);y(!!x.Date)}function r(){a.cancel()}function c(){a.hide(x.moment.toDate())}function m(){x.yearSelection=!0,n(function(){var t=e.element(document.querySelector(".am-date-picker__year-selector")),a=e.element(document.querySelector(".am-date-picker__year--is-active")),n=a[0].getElementsByTagName("p")[0].offsetHeight;t[0].scrollTop=a[0].offsetTop-t[0].offsetTop-t[0].clientHeight/2+n/2})}function l(){x.yearSelection=!1}function u(){(!x.maxDate||x.monthYear.isBefore(x.maxDate,"month"))&&(x.monthYear.add(1,"month"),y(),s())}function s(){x.change=!1,x.next=!0,n(function(){x.change=!0},v)}function d(){x.next=!1,x.change=!1,n(function(){x.change=!0},v)}function D(){(!x.minDate||x.monthYear.isAfter(x.minDate,"month"))&&(x.monthYear.subtract(1,"month"),y(),d())}function p(){var e=new Date;x.moment=t(e),x.ngModelMoment=t(e),x.yearSelection&&x.hideYearSelection(),y()}function f(t){t.disabled||(x.moment=t,x.monthYear=e.copy(t),y())}function h(e){x.hideYearSelection(),x.monthYear.year(e),y()}function y(a){x.days=[],x.emptyFirstDays=[];for(var n=x.monthYear.clone().date(0),o=e.copy(x.monthYear).date(1),i=e.copy(o).endOf("month"),r=e.copy(i).date(),c=0===o.day()?6:o.day()-1;c>0;c--)x.emptyFirstDays.push({});for(var m=0;r>m;m++){var l=n.add(1,"days").clone();l.selected=a!==!1&&l.isSame(x.moment,"day"),l.today=l.isSame(t(),"day"),e.isDefined(x.minDate)&&l.isBefore(x.minDate,"day")&&(l.disabled=!0),e.isDefined(x.maxDate)&&l.isSameOrAfter(x.maxDate,"day")&&(l.disabled=!0),x.days.push(l)}x.isTodayDisabled=e.isDefined(x.minDate)&&t().toDate()<x.minDate||e.isDefined(x.maxDate)&&t().toDate()>x.maxDate}var x=this;x.cancel=r,x.hide=c,x.displayYearSelection=m,x.hideYearSelection=l,x.previousMonth=D,x.nextMonth=u,x.select=f,x.selectYear=h,x.today=p,x.isTodayDisabled=!1,x.yearSelection=!1,x.change=!0;var v=110;i()}function n(){return{restrict:"AE",templateUrl:"am-date-picker.html",bindToController:{Date:"=ngModel",allowClear:"=?amAllowClear",cancelButton:"@?amCancelButton",inputDateFormat:"@?amInputDateFormat",inputLabel:"@?amInputLabel",maxDate:"=?amMaxDate",minDate:"=?amMinDate",maxYear:"=?amMaxYear",minYear:"=?amMinYear",popupDateFormat:"@?amPopupDateFormat",showInputIcon:"=?amShowInputIcon",todayButton:"@?amTodayButton"},controller:o,controllerAs:"amDatePicker",scope:{},replace:!0}}function o(n,o,i,r){function c(){for(var a=["backButtonText","cancelButton","inputLabel","maxYear","minYear","popupDateFormat","todayButton","prevIcon","nextIcon","calendarIcon","allowClear","clearIcon","showInputIcon","inputDateFormat","inputLabel","locale","minDate","maxDate"],o=0;o<a.length;o++)r.hasOwnProperty(a[o])&&(e.isDefined(s[a[o]])||(s[a[o]]=r[a[o]]));m(),n.$watch(function(){return s.minDate},function(e,a){if(e){var n=t(e),o=t(s.Date);o.isBefore(n,"day")&&(s.Date=n.toDate(),s.value=n.format(s.inputDateFormat))}}),n.$watch(function(){return s.maxDate},function(e,a){if(e){var n=t(e),o=t(s.Date);o.isAfter(n,"day")&&(s.Date=n.add(-1,"day").toDate(),s.value=n.format(s.inputDateFormat))}})}function m(){s.value=s.Date?t(s.Date).format(s.inputDateFormat):void 0}function l(){s.Date=void 0,m()}function u(t){i.show({clickOutsideToClose:!0,controller:a,controllerAs:"dialog",bindToController:!0,parent:e.element(document.body),targetEvent:t,templateUrl:"am-date-picker_content.tmpl.html",locals:{Date:s.Date,minDate:s.minDate,maxDate:s.maxDate,todayButton:s.todayButton,cancelButton:s.cancelButton,backButtonText:s.backButtonText}}).then(function(e){s.Date=e,m()})}var s=this;s.clearDate=l,s.openPicker=u,s.isTodayDisabled=!1,s.yearSelection=!1,s.change=!0,c()}function i(){var e={};e.allowClear=!0,e.backButtonText="Back",e.inputDateFormat="LL",e.maxYear=2020,e.minYear=1920,e.locale="en",e.popupDateFormat="ddd, MMM D",e.showInputIcon=!1,e.calendarIcon="/dist/images/icons/ic_today_24px.svg",e.clearIcon="/dist/images/icons/ic_close_24px.svg",e.nextIcon="/dist/images/icons/ic_chevron_right_18px.svg",e.prevIcon="/dist/images/icons/ic_chevron_left_18px.svg",this.setIcons=function(t){for(var a in t)e[a]=t[a]},this.setOptions=function(t){for(var a in t)e[a]=t[a]};var t=["allowClear","backButtonText","cancelButton","inputDateFormat","inputLabel","maxYear","maxDate","minDate","minYear","locale","popupDateFormat","showInputIcon","todayButton","calendarIcon","clearIcon","nextIcon","prevIcon"];t.forEach(function(t){var a=t.charAt(0).toUpperCase()+t.substr(1);this["set"+a]=function(a){return e[t]=a,this}},this),this.$get=function(t,a){return new r(e,t,a)},this.$get.$inject=["$mdDialog","$q"]}function r(e,t,a){function n(e,t,a){Object.defineProperty(e,t,{__proto__:null,get:function(){return a}})}var o=["allowClear","backButtonText","cancelButton","showInputIcon","inputLabel","maxDate","minDate","maxYear","minYear","locale","inputDateFormat","popupDateFormat","todayButton","calendarIcon","prevIcon","nextIcon","clearIcon"];for(var i in o)n(this,o[i],e[o[i]])}e.module("am.date-picker",["ngMaterial","ngAnimate"]).directive("amDatePicker",n).provider("amDatePickerConfig",i).controller("amDatePickerDialog",a),a.$inject=["$mdDialog","$timeout","amDatePickerConfig"],o.$inject=["$scope","$timeout","$mdDialog","amDatePickerConfig"]}(window.angular,window.moment);
angular.module("am.date-picker").run(["$templateCache",function(n){n.put("am-date-picker.html",'<div style="outline-style: none;">\r\n    <!-- Date picker input -->\r\n    <div>\r\n        <md-input-container class="md-icon-float md-icon-right">\r\n            <label>{{ amDatePicker.inputLabel }}</label>\r\n            <md-icon ng-show="amDatePicker.showInputIcon"\r\n                     md-svg-icon="{{ amDatePicker.calendarIcon }}"\r\n                     class="am-date-picker__calendar-icon"></md-icon>\r\n            <input ng-model="amDatePicker.value"\r\n                   ng-click="amDatePicker.openPicker($event)"\r\n                   class="am-date-picker__input"\r\n                   type="text"\r\n                   readonly="readonly">\r\n            <md-icon ng-show="amDatePicker.allowClear"\r\n                     ng-click="amDatePicker.clearDate()"\r\n                     md-svg-icon="{{ amDatePicker.clearIcon }}"\r\n                     class="am-date-picker__clear-icon"></md-icon>\r\n        </md-input-container>\r\n    </div>\r\n\r\n\r\n<script type="text/ng-template" id="am-date-picker_content.tmpl.html">\r\n    <md-dialog class="am-date-picker__container" aria-label="Datepicker Content" ng-cloak>\r\n    <div layout="column">\r\n\r\n        <!-- Current date -->\r\n        <div layout-align="center" class="am-date-picker__header-current-date">\r\n            <p>{{ dialog.moment.format(\'YYYY\') }}</p>\r\n            <h2>{{ dialog.moment.format(dialog.popupDateFormat) }}</h2>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <!-- Date picker: content -->\r\n    <div ng-hide="dialog.yearSelection" class="am-date-picker__content am-date-picker__animate-year-selection">\r\n        <div layout="row" layout-align="space-between center" class="am-date-picker__month-year">\r\n            <md-button ng-click="dialog.previousMonth()"\r\n                       class="md-icon-button">\r\n                <md-icon aria-label="Prev"\r\n                         class="am-date-picker__chevron"\r\n                         md-svg-icon="{{ dialog.prevIcon }}"></md-icon>\r\n\r\n            </md-button>\r\n\r\n            <md-button ng-click="dialog.displayYearSelection()"\r\n                       class="am-date-picker__month-year">\r\n                {{ dialog.monthYear.format(\'MMMM YYYY\') }}\r\n            </md-button>\r\n\r\n             <md-button ng-click="dialog.nextMonth()"\r\n                        class="md-icon-button">\r\n                <md-icon aria-label="Next"\r\n                         class="am-date-picker__chevron"\r\n                         md-svg-icon="{{ dialog.nextIcon }}"></md-icon>\r\n            </md-button>\r\n        </div>\r\n\r\n        <!-- Calendar -->\r\n        <div class="am-date-picker__calendar am-date-picker__animate-month-change"\r\n             ng-class="{\'next\': dialog.next,\r\n                        \'prev\': !dialog.next}"\r\n             ng-if="dialog.change">\r\n\r\n            <!-- Weekdays -->\r\n            <div style="padding-left: 12px; padding-right: 20px;" layout layout-align="space-between">\r\n                <span ng-repeat="day in dialog.daysOfWeek"\r\n                      class="am-date-picker__weekdays">\r\n                    {{ day }}\r\n                </span>\r\n            </div>\r\n\r\n            <!-- Days -->\r\n            <span ng-repeat="x in dialog.emptyFirstDays"\r\n                  class="am-date-picker__days">&nbsp;</span>\r\n\r\n            <div class="am-date-picker__days am-date-picker__day"\r\n                 ng-class="{ \'am-date-picker__day--is-selected\': day.selected,\r\n                             \'am-date-picker__day--is-today\': day.today && !day.selected,\r\n                             \'am-date-picker__day--is-disabled\': day.disabled }"\r\n                 ng-repeat="day in dialog.days">\r\n                <a ng-click="dialog.select(day)">{{ day ? day.format(\'D\') : \'\' }}</a>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Year selection -->\r\n    <div class="am-date-picker__year-selector am-date-picker__animate-year-selection"\r\n         ng-show="dialog.yearSelection">\r\n        <a class="am-date-picker__year"\r\n           ng-repeat="year in dialog.years"\r\n           ng-class="{ \'am-date-picker__year--is-active\':\r\n                        year == dialog.moment.format(\'YYYY\') }"\r\n           ng-click="dialog.selectYear(year)">\r\n            <p>{{ year }}</p>\r\n        </a>\r\n    </div>\r\n\r\n    <!--Actions-->\r\n    <md-dialog-actions layout="row" class="md-actions am-date-picker__actions">\r\n        <md-button ng-click="dialog.today()"\r\n                   ng-disabled="dialog.isTodayDisabled"\r\n                   ng-if="dialog.todayButton">\r\n            {{ dialog.todayButton }}\r\n        </md-button>\r\n        <span flex></span>\r\n        <div ng-if="!dialog.yearSelection">\r\n            <md-button ng-click="dialog.cancel()"\r\n                       ng-if="dialog.cancelButton">\r\n                {{ dialog.cancelButton }}\r\n            </md-button>\r\n            <md-button ng-click="dialog.hide()">OK</md-button>\r\n        </div>\r\n        <md-button ng-click="dialog.hideYearSelection()"\r\n                   ng-if="dialog.yearSelection">{{ dialog.backButtonText }}</md-button>\r\n    </md-dialog-actions>\r\n    </md-dialog>\r\n</script>\r\n\r\n</div>\r\n')}]);
//# sourceMappingURL=am-date-picker.min.js.map
